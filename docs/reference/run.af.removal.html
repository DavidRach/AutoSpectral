<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Run Autofluorescence Removal — run.af.removal • AutoSpectral</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Run Autofluorescence Removal — run.af.removal"><meta property="og:description" content="This function runs the autofluorescence removal process on a list of samples,
using the specified parameters and settings."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">AutoSpectral</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.7.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Aurora_example.html">Aurora_example</a>
    </li>
    <li>
      <a href="../articles/Cleaning.html">Cleaning</a>
    </li>
    <li>
      <a href="../articles/Control_File_example.html">Control_File_example</a>
    </li>
    <li>
      <a href="../articles/Gating.html">Gating</a>
    </li>
    <li>
      <a href="../articles/Per_Cell_Optimization.html">Per Cell Optimization</a>
    </li>
    <li>
      <a href="../articles/Plotting.html">Plotting</a>
    </li>
    <li>
      <a href="../articles/Reload_AutoSpectral.html">Re-running_AutoSpectral</a>
    </li>
    <li>
      <a href="../articles/Single_Cell_AutoFluorescence.html">Single Cell Autofluorescence</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/DrCytometer/AutoSpectral/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run Autofluorescence Removal</h1>
    <small class="dont-index">Source: <a href="https://github.com/DrCytometer/AutoSpectral/blob/HEAD/R/run_af_removal.R" class="external-link"><code>R/run_af_removal.R</code></a></small>
    <div class="hidden name"><code>run.af.removal.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function runs the autofluorescence removal process on a list of samples,
using the specified parameters and settings.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">run.af.removal</span><span class="op">(</span></span>
<span>  <span class="va">clean.expr</span>,</span>
<span>  <span class="va">af.removal.sample</span>,</span>
<span>  <span class="va">spectral.channel</span>,</span>
<span>  <span class="va">peak.channel</span>,</span>
<span>  <span class="va">universal.negative</span>,</span>
<span>  <span class="va">asp</span>,</span>
<span>  <span class="va">scatter.param</span>,</span>
<span>  negative.n <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  positive.n <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  scatter.match <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  intermediate.figures <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  main.figures <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-clean-expr">clean.expr<a class="anchor" aria-label="anchor" href="#arg-clean-expr"></a></dt>
<dd><p>List containing cleaned expression data.</p></dd>


<dt id="arg-af-removal-sample">af.removal.sample<a class="anchor" aria-label="anchor" href="#arg-af-removal-sample"></a></dt>
<dd><p>Vector of sample names for which autofluorescence
removal is to be performed.</p></dd>


<dt id="arg-spectral-channel">spectral.channel<a class="anchor" aria-label="anchor" href="#arg-spectral-channel"></a></dt>
<dd><p>Vector of spectral channel names.</p></dd>


<dt id="arg-peak-channel">peak.channel<a class="anchor" aria-label="anchor" href="#arg-peak-channel"></a></dt>
<dd><p>Vector of peak detection channels for fluorophores.</p></dd>


<dt id="arg-universal-negative">universal.negative<a class="anchor" aria-label="anchor" href="#arg-universal-negative"></a></dt>
<dd><p>Name of the universal negative control.</p></dd>


<dt id="arg-asp">asp<a class="anchor" aria-label="anchor" href="#arg-asp"></a></dt>
<dd><p>The AutoSpectral parameter list.
Prepare using <code>get.autospectral.param</code></p></dd>


<dt id="arg-scatter-param">scatter.param<a class="anchor" aria-label="anchor" href="#arg-scatter-param"></a></dt>
<dd><p>Vector of scatter parameters.</p></dd>


<dt id="arg-negative-n">negative.n<a class="anchor" aria-label="anchor" href="#arg-negative-n"></a></dt>
<dd><p>Integer. Number of events to include in the downsampled
negative population. Default is <code>500</code>.</p></dd>


<dt id="arg-positive-n">positive.n<a class="anchor" aria-label="anchor" href="#arg-positive-n"></a></dt>
<dd><p>Integer. Number of events to include in the downsampled
positive population. Default is <code>1000</code>.</p></dd>


<dt id="arg-scatter-match">scatter.match<a class="anchor" aria-label="anchor" href="#arg-scatter-match"></a></dt>
<dd><p>Logical, default is <code>TRUE</code>. Whether to select negative
events based on scatter profiles matching the positive events. Defines a
region of FSC and SSC based on the distribution of selected positive events.</p></dd>


<dt id="arg-intermediate-figures">intermediate.figures<a class="anchor" aria-label="anchor" href="#arg-intermediate-figures"></a></dt>
<dd><p>Logical, if <code>TRUE</code> returns additional figures to
show the inner workings of the cleaning, including definition of low-AF cell
gates on the PCA-unmixed unstained and spectral ribbon plots of the AF
exclusion from the unstained.</p></dd>


<dt id="arg-main-figures">main.figures<a class="anchor" aria-label="anchor" href="#arg-main-figures"></a></dt>
<dd><p>Logical, if <code>TRUE</code> creates the main figures to show the
impact of intrusive autofluorescent event removal and scatter-matching for
the negatives.</p></dd>


<dt id="arg-parallel">parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p>Logical, default is <code>FALSE</code>, in which case parallel processing
will not be used. Parallel processing will likely be faster when many small
files are read in. If the data is larger, parallel processing may not
accelerate the process much.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical, default is <code>TRUE</code>. Set to <code>FALSE</code> to suppress messages.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list containing the expression data with autofluorescent events
removed for each sample.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Oliver Burton, Carlos P. Roca.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

